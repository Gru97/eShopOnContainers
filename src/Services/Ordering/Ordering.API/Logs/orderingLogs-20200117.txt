2020-01-17T20:04:28.9925681+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:04:29.0358726+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Quantity: 2, UnitPrice: 3340000.0, Discount: 0 }, OrderItemDto { ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 100500.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:04:30.6012384+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:04:30, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:04:30, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:04:30, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:04:30 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:04:30 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:04:30 }] } (2c6718b0)
2020-01-17T20:04:32.9912347+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T20:04:33.1713525+00:00  [INF] order retrieved to set its buyer Order { OrderDate: 01/17/2020 20:04:30, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.0, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0, PictureUri: null, Id: 9, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.0, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0, PictureUri: null, Id: 10, DomainEvents: null }], Id: 9, DomainEvents: [] } (eee39e3d)
2020-01-17T20:04:33.1766888+00:00  [INF] buyerId set to 1 (b0efb381)
2020-01-17T20:04:33.1830287+00:00  [INF] OrderStatus is set to SetAwaitingValidationStatus  (8d340758)
2020-01-17T20:04:33.2053112+00:00  [INF] OrderStatusChangedToAwaitingValidationDomainEvent handler called (622cbd86)
2020-01-17T20:04:33.2118928+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is created OrderStatusChangedToAwaitingValidationIntegrationEvent { StockItems: [StockItem { ProductId: 10, Units: 2 }, StockItem { ProductId: 21, Units: 1 }], OrderId: 9, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:04:33 } (ff364eea)
2020-01-17T20:04:33.3736424+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is published (5de65a50)
2020-01-17T20:04:33.6003402+00:00  [INF] SaveChanges called on buyer (3505242c)
2020-01-17T20:04:33.6212523+00:00  [INF] Order SaveChanges finished (85d05615)
2020-01-17T20:04:33.6425014+00:00  [INF] CreateOrderCommand sent (8a728658)
2020-01-17T20:04:33.9015643+00:00  [INF] SetOrderStatusToStockConfirmedCommand created:SetOrderStatusToStockConfirmedCommand { orderId: 9 }  (5429d522)
2020-01-17T20:04:46.4655120+00:00  [INF] Order retrieved Order { OrderDate: 01/17/2020 20:04:30, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: 1, OrderState: AwaitingValidation, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.00, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0.00, PictureUri: null, Id: 9, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.00, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 10, DomainEvents: null }], Id: 9, DomainEvents: null } (6f81d885)
2020-01-17T20:04:46.4706872+00:00  [INF] SetStockConfirmedStatus called on order object (37636d94)
2020-01-17T20:04:46.4964392+00:00  [INF] SaveChanges finished  (90950fbb)
2020-01-17T20:04:46.5117796+00:00  [INF] SetOrderStatusToStockConfirmedCommand sent  (74dba639)
2020-01-17T20:05:53.5884011+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:05:53.5983570+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Quantity: 2, UnitPrice: 3340000.0, Discount: 0 }, OrderItemDto { ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 100500.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:05:53.6197696+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:05:53, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:05:53, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:05:53, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:05:53 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:05:53 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:05:53 }] } (2c6718b0)
2020-01-17T20:05:53.7022116+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T20:05:53.7416501+00:00  [INF] order retrieved to set its buyer Order { OrderDate: 01/17/2020 20:05:53, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.0, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0, PictureUri: null, Id: 11, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.0, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0, PictureUri: null, Id: 12, DomainEvents: null }], Id: 10, DomainEvents: [] } (eee39e3d)
2020-01-17T20:05:53.7500862+00:00  [INF] buyerId set to 1 (b0efb381)
2020-01-17T20:05:53.7594031+00:00  [INF] OrderStatus is set to SetAwaitingValidationStatus  (8d340758)
2020-01-17T20:05:53.7940101+00:00  [INF] OrderStatusChangedToAwaitingValidationDomainEvent handler called (622cbd86)
2020-01-17T20:05:53.8010665+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is created OrderStatusChangedToAwaitingValidationIntegrationEvent { StockItems: [StockItem { ProductId: 10, Units: 2 }, StockItem { ProductId: 21, Units: 1 }], OrderId: 10, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:05:53 } (ff364eea)
2020-01-17T20:05:53.8559821+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is published (5de65a50)
2020-01-17T20:05:53.9440622+00:00  [INF] SaveChanges called on buyer (3505242c)
2020-01-17T20:05:53.9534654+00:00  [INF] Order SaveChanges finished (85d05615)
2020-01-17T20:05:53.9701498+00:00  [INF] CreateOrderCommand sent (8a728658)
2020-01-17T20:05:54.0747568+00:00  [INF] SetOrderStatusToStockConfirmedCommand created:SetOrderStatusToStockConfirmedCommand { orderId: 10 }  (5429d522)
2020-01-17T20:06:01.2029955+00:00  [INF] Order retrieved Order { OrderDate: 01/17/2020 20:05:53, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: 1, OrderState: AwaitingValidation, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.00, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0.00, PictureUri: null, Id: 11, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.00, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 12, DomainEvents: null }], Id: 10, DomainEvents: null } (6f81d885)
2020-01-17T20:06:01.2250843+00:00  [INF] SetStockConfirmedStatus called on order object (37636d94)
2020-01-17T20:06:01.2666375+00:00  [INF] SaveChanges finished  (90950fbb)
2020-01-17T20:06:01.2714111+00:00  [INF] SetOrderStatusToStockConfirmedCommand sent  (74dba639)
2020-01-17T20:06:22.1461073+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:06:22.1520728+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Quantity: 2, UnitPrice: 3340000.0, Discount: 0 }, OrderItemDto { ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 100500.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:06:22.1566455+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:06:22 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:06:22 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:06:22 }] } (2c6718b0)
2020-01-17T20:06:22.2237346+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T20:06:22.3106774+00:00  [INF] order retrieved to set its buyer Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.0, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0, PictureUri: null, Id: 13, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.0, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0, PictureUri: null, Id: 14, DomainEvents: null }], Id: 11, DomainEvents: [] } (eee39e3d)
2020-01-17T20:06:22.3150920+00:00  [INF] buyerId set to 1 (b0efb381)
2020-01-17T20:06:22.3201851+00:00  [INF] OrderStatus is set to SetAwaitingValidationStatus  (8d340758)
2020-01-17T20:06:22.3257813+00:00  [INF] OrderStatusChangedToAwaitingValidationDomainEvent handler called (622cbd86)
2020-01-17T20:06:22.3303461+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is created OrderStatusChangedToAwaitingValidationIntegrationEvent { StockItems: [StockItem { ProductId: 10, Units: 2 }, StockItem { ProductId: 21, Units: 1 }], OrderId: 11, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:06:22 } (ff364eea)
2020-01-17T20:06:22.4144454+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is published (5de65a50)
2020-01-17T20:06:22.4652212+00:00  [INF] SaveChanges called on buyer (3505242c)
2020-01-17T20:06:22.4754985+00:00  [INF] Order SaveChanges finished (85d05615)
2020-01-17T20:06:22.4799286+00:00  [INF] CreateOrderCommand sent (8a728658)
2020-01-17T20:06:22.6334080+00:00  [INF] SetOrderStatusToStockConfirmedCommand created:SetOrderStatusToStockConfirmedCommand { orderId: 11 }  (5429d522)
2020-01-17T20:06:35.4298391+00:00  [INF] Order retrieved Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: 1, OrderState: AwaitingValidation, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.00, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0.00, PictureUri: null, Id: 13, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.00, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 14, DomainEvents: null }], Id: 11, DomainEvents: null } (6f81d885)
2020-01-17T20:06:35.4354678+00:00  [INF] SetStockConfirmedStatus called on order object (37636d94)
2020-01-17T20:10:31.5703984+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:10:31.6227205+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 5, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A20 SM-A205F/DS دو سیم کارت ظرفیت 32گیگابایت", Quantity: 2, UnitPrice: 2510000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:10:32.8454769+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:10:32, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:10:32, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:10:32, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:10:32 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:10:32 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:10:32 }] } (2c6718b0)
2020-01-17T20:11:00.3939604+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T20:28:38.5953953+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:28:38.6496883+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 1, ProductName: "لپ تاپ 15 اینچی لنوو مدل Ideapad 330 - F", Quantity: 1, UnitPrice: 5000000.0, Discount: 0 }, OrderItemDto { ProductId: 3, ProductName: "گوشی موبایل هوآوی مدل Y3 2018 CAG-L22 دو سیم کارت ظرفیت 8 گیگابایت", Quantity: 1, UnitPrice: 1500000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:28:39.8279936+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:28:39, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:28:39, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:28:39, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:28:39 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:28:39 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:28:39 }] } (2c6718b0)
2020-01-17T20:29:23.4140448+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T20:29:35.4415183+00:00  [INF] order retrieved to set its buyer Order { OrderDate: 01/17/2020 20:28:39, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [OrderItem { Quantity: 1, UnitPrice: 5000000.0, ProductId: 1, ProductName: "لپ تاپ 15 اینچی لنوو مدل Ideapad 330 - F", Discount: 0, PictureUri: null, Id: 11, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 1500000.0, ProductId: 3, ProductName: "گوشی موبایل هوآوی مدل Y3 2018 CAG-L22 دو سیم کارت ظرفیت 8 گیگابایت", Discount: 0, PictureUri: null, Id: 12, DomainEvents: null }, OrderItem { Quantity: 2, UnitPrice: 3340000.00, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0.00, PictureUri: null, Id: 13, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.00, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 14, DomainEvents: null }], Id: 11, DomainEvents: [] } (eee39e3d)
2020-01-17T20:29:35.4512970+00:00  [INF] buyerId set to 1 (b0efb381)
2020-01-17T20:29:35.4567055+00:00  [INF] OrderStatus is set to SetAwaitingValidationStatus  (8d340758)
2020-01-17T20:29:44.4459527+00:00  [INF] OrderStatusChangedToAwaitingValidationDomainEvent handler called (622cbd86)
2020-01-17T20:29:44.4535019+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is created OrderStatusChangedToAwaitingValidationIntegrationEvent { StockItems: [StockItem { ProductId: 1, Units: 1 }, StockItem { ProductId: 3, Units: 1 }, StockItem { ProductId: 10, Units: 2 }, StockItem { ProductId: 21, Units: 1 }], OrderId: 11, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:29:44 } (ff364eea)
2020-01-17T20:29:44.5509549+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is published (5de65a50)
2020-01-17T20:29:44.6704434+00:00  [ERR] Failed executing DbCommand ("26"ms) [Parameters=["@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int16), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Orders] ([Id], [BuyerId], [OrderDate], [OrderState], [Description], [Address_City], [Address_Country], [Address_State], [Address_Street], [Address_ZipCode])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_Orders'. Cannot insert duplicate key in object 'dbo.Orders'. The duplicate key value is (11).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
ClientConnectionId:25033aa5-d60d-4b5d-af2c-e869519246b4
Error Number:2627,State:1,Class:14
2020-01-17T20:29:44.7136112+00:00  [ERR] An exception occurred in the database while saving changes for context type '"Ordering.Infrastructure.OrderingContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Violation of PRIMARY KEY constraint 'PK_Orders'. Cannot insert duplicate key in object 'dbo.Orders'. The duplicate key value is (11).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)" (170f029e)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> System.Data.SqlClient.SqlException: Violation of PRIMARY KEY constraint 'PK_Orders'. Cannot insert duplicate key in object 'dbo.Orders'. The duplicate key value is (11).
The statement has been terminated.
   at System.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__122_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location where exception was thrown ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteAsync(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Ordering.Infrastructure.OrderingContext.SaveChangesAsync() in E:\InHand\Desktop\Microservices\Final Project\eShop\src\Services\Ordering\Ordering.Infrastructure\OrderingContext.cs:line 56
2020-01-17T20:29:53.3381919+00:00  [INF] SetOrderStatusToStockConfirmedCommand created:SetOrderStatusToStockConfirmedCommand { orderId: 11 }  (5429d522)
2020-01-17T20:29:59.2236174+00:00  [ERR] CreateOrderCommand couldn't be sentAn error occurred while updating the entries. See the inner exception for details. (d244cd0e)
2020-01-17T20:30:03.1331530+00:00  [INF] Order retrieved Order { OrderDate: 01/17/2020 20:06:22, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: 1, OrderState: AwaitingValidation, OrderItems: [OrderItem { Quantity: 2, UnitPrice: 3340000.00, ProductId: 10, ProductName: "دوربین دیجیتال کانن مدل EOS 4000D", Discount: 0.00, PictureUri: null, Id: 13, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 100500.00, ProductId: 21, ProductName: "فلش مموری سیلیکون پاور مدل Touch T01 ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 14, DomainEvents: null }], Id: 11, DomainEvents: null } (6f81d885)
2020-01-17T20:30:03.1375689+00:00  [INF] SetStockConfirmedStatus called on order object (37636d94)
2020-01-17T20:30:09.1216964+00:00  [INF] SaveChanges finished  (90950fbb)
2020-01-17T20:30:09.1635204+00:00  [INF] SetOrderStatusToStockConfirmedCommand sent  (74dba639)
2020-01-17T20:36:17.3337028+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:36:17.4099566+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 1, ProductName: "لپ تاپ 15 اینچی لنوو مدل Ideapad 330 - F", Quantity: 1, UnitPrice: 5000000.0, Discount: 0 }, OrderItemDto { ProductId: 3, ProductName: "گوشی موبایل هوآوی مدل Y3 2018 CAG-L22 دو سیم کارت ظرفیت 8 گیگابایت", Quantity: 1, UnitPrice: 1500000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:36:18.7071824+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:36:18, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:36:18, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:36:18, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:36:18 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:36:18 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:36:18 }] } (2c6718b0)
2020-01-17T20:39:47.5514512+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:39:47.5957957+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 1, ProductName: "لپ تاپ 15 اینچی لنوو مدل Ideapad 330 - F", Quantity: 1, UnitPrice: 5000000.0, Discount: 0 }, OrderItemDto { ProductId: 3, ProductName: "گوشی موبایل هوآوی مدل Y3 2018 CAG-L22 دو سیم کارت ظرفیت 8 گیگابایت", Quantity: 1, UnitPrice: 1500000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:39:48.6838627+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:39:48, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:39:48, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:39:48, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:39:48 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:39:48 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:39:48 }] } (2c6718b0)
2020-01-17T20:40:05.5937002+00:00  [ERR] CreateOrderCommand couldn't be sentSelf referencing loop detected with type 'Ordering.Domain.Events.OrderStartedDomainEvent'. Path 'Order.DomainEvents'. (67597751)
2020-01-17T20:40:42.8957700+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:40:42.9115977+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:40:42.9481054+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:40:42, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:40:42, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:40:42, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:40:42 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:40:42 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:40:42 }] } (2c6718b0)
2020-01-17T20:41:00.5012432+00:00  [ERR] CreateOrderCommand couldn't be sentSelf referencing loop detected with type 'Ordering.Domain.Events.OrderStartedDomainEvent'. Path 'Order.DomainEvents'. (67597751)
2020-01-17T20:41:19.6316126+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:41:19.6379817+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:41:19.6441537+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:41:19, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:41:19, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:41:19, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:41:19 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:41:19 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:41:19 }] } (2c6718b0)
2020-01-17T20:41:46.5307206+00:00  [ERR] CreateOrderCommand couldn't be sentSelf referencing loop detected with type 'Ordering.Domain.Events.OrderStartedDomainEvent'. Path 'Order.DomainEvents'. (67597751)
2020-01-17T20:42:08.7022049+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:42:08.7108332+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:42:08.7167682+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:42:08, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:42:08, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:42:08, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:42:08 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:42:08 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:42:08 }] } (2c6718b0)
2020-01-17T20:53:11.8946090+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T20:53:11.9375253+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T20:53:13.1067499+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 20:53:13, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:53:13, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 20:53:13, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:53:13 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:53:13 }] }, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 20:53:13 }] } (2c6718b0)
2020-01-17T21:02:14.5033674+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T21:02:14.5493858+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 7, ProductName: "دوربین دیجیتال سامسونگ مدل ST150F", Quantity: 1, UnitPrice: 565000.0, Discount: 0 }, OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T21:02:15.9759513+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 21:02:15, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 21:02:15, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 21:02:15, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: 5794bc38-4c29-4384-94b1-54d3d9a48220, CreationDate: 01/17/2020 21:02:15 }] }, Id: 5794bc38-4c29-4384-94b1-54d3d9a48220, CreationDate: 01/17/2020 21:02:15 }] }, Id: 5794bc38-4c29-4384-94b1-54d3d9a48220, CreationDate: 01/17/2020 21:02:15 }] } (2c6718b0)
2020-01-17T21:09:36.8334760+00:00  [INF] Inside UserCheckoutIntegrationEvent handler (3529aed2)
2020-01-17T21:09:36.8812439+00:00  [INF] CreateOrderCommand created CreateOrderCommand { OrderItems: [OrderItemDto { ProductId: 7, ProductName: "دوربین دیجیتال سامسونگ مدل ST150F", Quantity: 1, UnitPrice: 565000.0, Discount: 0 }, OrderItemDto { ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Quantity: 1, UnitPrice: 3050000.0, Discount: 0 }], UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", City: "تهران", State: "تهران", Country: "ایران", Street: "آذربایجان", ZipCode: "123456" } (3fd9f466)
2020-01-17T21:09:38.3096004+00:00  [INF] Order instantiated Order { OrderDate: 01/17/2020 21:09:38, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 21:09:38, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: 01/17/2020 21:09:38, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [], Id: 0, DomainEvents: [OrderStartedDomainEvent { UserId: "16265bdc-0e49-44df-b6e5-e77094ee6d0c", UserName: "masoud", Order: Order { OrderDate: null, Address: null, BuyerId: null, OrderState: null, OrderItems: null, Id: null, DomainEvents: null }, Id: ea55981a-2302-41e2-8eff-3e2bd33acfc1, CreationDate: 01/17/2020 21:09:38 }] }, Id: ea55981a-2302-41e2-8eff-3e2bd33acfc1, CreationDate: 01/17/2020 21:09:38 }] }, Id: ea55981a-2302-41e2-8eff-3e2bd33acfc1, CreationDate: 01/17/2020 21:09:38 }] } (2c6718b0)
2020-01-17T21:10:07.1590037+00:00  [INF] BuyerCreatedDomainEvent added to list of buyer events (70d1b556)
2020-01-17T21:10:23.5960380+00:00  [INF] order retrieved to set its buyer Order { OrderDate: 01/17/2020 21:09:38, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: null, OrderState: Submitted, OrderItems: [OrderItem { Quantity: 1, UnitPrice: 565000.0, ProductId: 7, ProductName: "دوربین دیجیتال سامسونگ مدل ST150F", Discount: 0, PictureUri: null, Id: 16, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 3050000.0, ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Discount: 0, PictureUri: null, Id: 17, DomainEvents: null }], Id: 16, DomainEvents: [] } (eee39e3d)
2020-01-17T21:10:23.6000976+00:00  [INF] buyerId set to 1 (b0efb381)
2020-01-17T21:10:23.6053402+00:00  [INF] OrderStatus is set to SetAwaitingValidationStatus  (8d340758)
2020-01-17T21:10:37.0914089+00:00  [INF] OrderStatusChangedToAwaitingValidationDomainEvent handler called (622cbd86)
2020-01-17T21:10:37.1028896+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is created OrderStatusChangedToAwaitingValidationIntegrationEvent { StockItems: [StockItem { ProductId: 7, Units: 1 }, StockItem { ProductId: 4, Units: 1 }], OrderId: 16, Id: 00000000-0000-0000-0000-000000000000, CreationDate: 01/17/2020 21:10:37 } (ff364eea)
2020-01-17T21:10:37.2998061+00:00  [INF] OrderStatusChangedToAwaitingValidationIntegrationEvent is published (5de65a50)
2020-01-17T21:10:37.4933507+00:00  [INF] SaveChanges called on buyer (3505242c)
2020-01-17T21:10:37.5064474+00:00  [INF] Order SaveChanges finished (85d05615)
2020-01-17T21:10:37.5627301+00:00  [INF] CreateOrderCommand sent (8a728658)
2020-01-17T21:10:37.7408104+00:00  [INF] SetOrderStatusToStockConfirmedCommand created:SetOrderStatusToStockConfirmedCommand { orderId: 16 }  (5429d522)
2020-01-17T21:11:31.7616636+00:00  [INF] Order retrieved Order { OrderDate: 01/17/2020 21:09:38, Address: Address { Street: "آذربایجان", City: "تهران", State: "تهران", Country: "ایران", ZipCode: "123456" }, BuyerId: 1, OrderState: AwaitingValidation, OrderItems: [OrderItem { Quantity: 1, UnitPrice: 565000.00, ProductId: 7, ProductName: "دوربین دیجیتال سامسونگ مدل ST150F", Discount: 0.00, PictureUri: null, Id: 16, DomainEvents: null }, OrderItem { Quantity: 1, UnitPrice: 3050000.00, ProductId: 4, ProductName: "گوشی موبایل سامسونگ مدل Galaxy A10 SM-A105F/DS دو سیم کارت ظرفیت 32 گیگابایت", Discount: 0.00, PictureUri: null, Id: 17, DomainEvents: null }], Id: 16, DomainEvents: null } (6f81d885)
2020-01-17T21:11:31.7703203+00:00  [INF] SetStockConfirmedStatus called on order object (37636d94)
2020-01-17T21:11:35.7627531+00:00  [INF] SaveChanges finished  (90950fbb)
2020-01-17T21:11:35.8163387+00:00  [INF] SetOrderStatusToStockConfirmedCommand sent  (74dba639)
